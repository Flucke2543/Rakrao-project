<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"><title>Rakrao Admin</title></head>
<body style="background-color: #1e1e1e; color: #e0e0e0; font-family: sans-serif; padding: 20px;">
    <h1>üå≥ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ Rakrao</h1>
    <input type="text" id="n" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
    <input type="number" id="p" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">
    <button onclick="add()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
    <hr>
    <div id="out"></div>
    <script>
        async function add() {
            const name = document.getElementById('n').value;
            const price = document.getElementById('p').value;
            await fetch('/api/products', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ name, price })
            });
            document.getElementById('n').value = '';
            document.getElementById('p').value = '';
            load();
        }
        async function load() {
            const r = await fetch('/api/products');
            const d = await r.json();
           document.getElementById('out').innerHTML = d.map(x => `
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px; background: #2d2d2d; padding: 10px; border-radius: 5px;">
                    <span>‚úÖ ${x.name} - ${x.price} ‡∏ö‡∏≤‡∏ó</span>
                    <div>
                        <button onclick="editProduct(${x.id}, '${x.name}', ${x.price})" style="background: #ffc107; border: none; border-radius: 3px; cursor: pointer; margin-right: 5px;">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button onclick="deleteProduct(${x.id})" style="background: #f44336; color: white; border: none; border-radius: 3px; cursor: pointer;">‡∏•‡∏ö</button>
                    </div>
                </div>
            `).join('');}
        load();
        async function deleteProduct(id) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏•‡∏ö?')) {
                await fetch(`/api/products/${id}`, { method: 'DELETE' });
                load();
            }
        }
        async function editProduct(id, oldName, oldPrice) {
            const name = prompt("‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà:", oldName);
            const price = prompt("‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡∏°‡πà:", oldPrice);
            if (name && price) {
                await fetch(`/api/products/${id}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, price: Number(price) })
                });
                load();
            }
        }
    </script>  </body>  </html>
