const express = require('express'); //à¸›à¸£à¸°à¸à¸²à¸¨à¸Šà¸·à¹ˆà¸­à¹€à¸£à¸µà¸¢à¸à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸Šà¹‰à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸—à¸µà¹ˆà¹€à¸£à¸²à¹„à¸›à¸«à¸¢à¸´à¸šà¸¡à¸²à¸ˆà¸²à¸ Library
const path = require('path'); //à¸›à¸£à¸°à¸à¸²à¸¨à¹€à¸£à¸µà¸¢à¸à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¹€à¸£à¸µà¸¢à¸‡à¸¥à¸³à¸”à¸±à¸šà¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¹„à¸Ÿà¸¥à¹Œ 
const app = express(); //à¸ªà¸£à¹‰à¸²à¸‡à¸žà¸·à¹‰à¸™à¸—à¸µà¹ˆà¸šà¸™à¸«à¸™à¹‰à¸²à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸ªà¸³à¸«à¸£à¸±à¸šà¹ƒà¸ªà¹ˆà¸—à¸¸à¸à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡à¸¥à¸‡à¹„à¸› à¹€à¸«à¸¡à¸·à¸­à¸™à¸ªà¸¡à¸­à¸‡à¸«à¸¥à¸±à¸à¹à¸•à¹ˆà¸§à¹ˆà¸²à¹à¸„à¹ˆà¸­à¸¸à¹ˆà¸™à¹€à¸„à¸£à¸·à¸­à¸‡à¸à¹ˆà¸­à¸™
const port = 3000; //à¸žà¸´à¸à¸±à¸”à¸‚à¸­à¸‡à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸—à¸µà¹ˆà¸ˆà¸°à¸šà¸­à¸à¸à¸±à¸šà¸„à¸­à¸¡à¸žà¸´à¸§à¹€à¸•à¸­à¸£à¹Œà¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸™à¸±à¹‰à¸™à¹†à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™ à¹€à¸«à¸¡à¸·à¸­à¸™à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸‚à¸­à¸‡ IPà¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡

// à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸ªà¸´à¸™à¸„à¹‰à¸²à¸¡à¸²à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­
const productController = require('./modules/products/product.controller');

//à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸±à¸§à¹à¸›à¸¥à¸ à¸²à¸©à¸² J.son
app.use(express.json()); 

// à¸«à¸™à¹‰à¸²à¹à¸£à¸: à¸ªà¹ˆà¸‡à¹„à¸Ÿà¸¥à¹Œà¸«à¸™à¹‰à¸²à¸šà¹‰à¸²à¸™à¹„à¸›à¹à¸ªà¸”à¸‡à¸œà¸¥
app.get('/', (req, res) => {
    res.sendFile(path.join(__dirname, 'index.html')); //
});

// à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡ API
app.get('/api/products', productController.getAllProducts);
//
app.post('/api/products', productController.createProduct);
//
app.listen(port, () => {
    //
    console.log(`ðŸŒ³ Rakrao System running at http://localhost:${port}`);
});
